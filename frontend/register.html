<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Admin Register</title>
<style>
        /* CSS Disesuaikan agar Seragam dengan Desain Login Gelap */
        body {
            /* Latar belakang gelap (Dark Mode-inspired) */
            background: #1a1a2e; /* Biru tua/ungu gelap */
            font-family: 'Inter', sans-serif;
            display: flex; /* Untuk menengahkan */
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #ffffff; 
        }

        .register-box {
            /* Kotak register dengan latar belakang biru-ungu yang lebih terang */
            background: #232946; 
            padding: 45px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5); /* Bayangan dalam yang kuat */
            width: 100%;
            max-width: 400px;
            text-align: center;
            border: 1px solid #4f5466; 
        }

        h2 {
            /* Warna cerah sebagai aksen */
            color: #eebbc3; /* Pink/Merah muda pastel */
            margin-bottom: 35px;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        input[type="email"],
        input[type="password"] {
            width: 100%;
            padding: 14px;
            margin-bottom: 25px;
            background: #1a1a2e; /* Input box lebih gelap */
            color: #ffffff;
            border: 1px solid #4f5466;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        input[type="email"]:focus,
        input[type="password"]:focus {
            border-color: #eebbc3; /* Aksen pink saat fokus */
            outline: none;
            box-shadow: 0 0 0 3px rgba(238, 187, 195, 0.3);
        }

        .register-btn {
            width: 100%;
            padding: 15px;
            background: #ff8906; /* Oranye cerah/Emas sebagai tombol aksi utama */
            color: #232946; /* Teks gelap pada tombol cerah */
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: background-color 0.3s, transform 0.2s;
        }

        .login-link {
            margin-top: 25px;
            font-size: 14px;
            text-align: center;
        }

        .login-link a {
            color: #eebbc3; /* Aksen pink untuk tautan */
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .login-link a:hover {
            color: #ff8906; /* Aksen oranye saat hover */
            text-decoration: underline;
        }

        button{
          margin-top:14px;
          padding:10px;
          width:100%;
          border-radius:8px;
          background:#10b981;
          color:#fff;border:none}
          a{display:block;
          margin-top:12px;
          text-align:center;
          color:#6366f1
        }

</style>
</head>
<body>
  <div class="card">
    <h3>Register Admin</h3>
    <input id="email" placeholder="Email" type="email" />
    <input id="password" placeholder="Password" type="password" />
    <button id="registerBtn">Register</button>
    <a href="login.html">Go to login</a>
    <div id="msg"></div>
  </div>

<script>
document.getElementById("registerBtn").addEventListener("click", async () => {
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const msg = document.getElementById("msg");
  msg.innerText = "";

  if (!email || !password) { msg.innerText = "Isi semua field"; return; }

  try {
    const res = await fetch("http://localhost:3000/api/admin/register", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email, password })
    });
    const data = await res.json();
    if (data.success) {
      msg.style.color = "green";
      msg.innerText = "Terdaftar. Silakan login.";
      setTimeout(() => window.location.href = "login.html", 1000);
    } else {
      msg.style.color = "red";
      msg.innerText = data.message || "Gagal register";
    }
  } catch (e) {
    console.error(e);
    msg.style.color = "red";
    msg.innerText = "Tidak bisa terhubung ke server";
  }
});
</script>
</body>
</html>
